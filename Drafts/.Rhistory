import pandas
library(reticulate)
py_config()
library(reticulate)
import pandas
import pandas as pd
print(pd.__version__)
library(reticulate)
py_config()
install.packages("reticulate")
library(reticulate)
py_install("pandas", pip=TRUE)
py_install("pandas", pip=TRUE)
import pandas as pd
df = pd.read_csv("20250615-London-listinfs.csv")
df = pd.read_csv("Data/clean/20250615-London-listinfs.csv")
df = pd.read_csv("Data/clean/20250615-London-listings.csv")
list.files("Data/clean")
list.files("Data")
list.files("CASA_FSDS_Project")
list.files("Data/clean")
df = pd.read_csv("C:/Users/Owen Hughes/Desktop/CASA/UCL_Work/CASA_FSDS_Project/Data/clean/20250615-London-listings.csv/20250615-London-listings.csv)
df = pd.read_csv("C:/Users/Owen Hughes/Desktop/CASA/UCL_Work/CASA_FSDS_Project/Data/clean/20250615-London-listings.csv/20250615-London-listings.csv")
df.head(4)
print(df_length)
df_length = len(df)
print(df_length)
df["room_type"].unique()
print(df["room_type"].unique())
entire_homes.append(i)
# run a for loop to create a new data set with only entire homes apartments
# take the length of this
print(df["room_type"].unique())
entire_homes = []
for i, r in df.iterrows():
if r["room_type"] == "Entire home/apt"
entire_homes.append(i)
# run a for loop to create a new data set with only entire homes apartments
# take the length of this
print(df["room_type"].unique())
entire_homes = []
for i, r in df.iterrows():
if r["room_type"] == "Entire home/apt":
entire_homes.append(r)
entire_homes = pd.DataFrame(entire_homes)
print(len(entire_homes))
# run a for loop to create a new data set with only entire homes apartments
# take the length of this
print(df["room_type"].unique())
entire_homes = []
for i, r in df.iterrows():
if r["room_type"] == "Entire home/apt":
entire_homes.append(r)
entire_homes_df = pd.DataFrame(entire_homes)
print(len(entire_homes_df))
# run a for loop to create a new data set with only entire homes apartments
# take the length of this
print(df["room_type"].unique())
entire_homes = []
for i, r in df.iterrows():
if r["room_type"] == "Entire home/apt":
entire_homes.append(r)
entire_homes_df = pd.DataFrame(entire_homes) # Ensure data is still a pandas df
eh_length = len(entire_homes_df)
print(eh_length)
# Find the proportion of Airbnbs that are entire homes
print(f'{eh_length/df_length}% of Airbnbs in London are entire homes or flats.')
# Find the proportion of Airbnbs that are entire homes
print(f'{round(eh_length/df_length,2)}% of Airbnbs in London are entire homes or flats.')
# Find the proportion of Airbnbs that are entire homes
print(f'{round((eh_length/df_length)*100,2)}% of Airbnbs in London are entire homes or flats.')
# Find the proportion of Airbnbs that are entire homes
print(f'Rounghly {round((eh_length/df_length)*100)}% of Airbnbs in London are entire homes or flats.')
import matplotlib.pyplot as plt
py_install("matplotlib", pip = TRUE)
library(reticulate)
py_install("matplotlib", pip = TRUE)
import matplotlib.pyplot as plt
py_config()
library(reticulate)
import matplotlib.pyplot as plt
library(reticulate)
py_config()
import matplotlib.pyplot as plt
#!pip install matplotlib
import matplotlib.pyplot as plt
import matplotlib.pyplot as plt
room_types = df["room_type"].value_counts()
# bar chart
plt.figure(figsize=(8, 5))
room_counts.plot(kind="bar", color="salmon", edgecolor="slategrey")
# Adding labels and title
plt.xlabel("Room Type")
plt.ylabel("Number of Listings")
plt.title("Distribution of Room Types in London Listings")
plt.xticks(rotation=45)
plt.tight_layout()
# Show the plot
plt.show()
room_types.head(3)
room_types = df["room_type"].value_counts()
# bar chart
plt.figure(figsize=(8, 5))
room_types.plot(kind="bar", color="salmon", edgecolor="slategrey")
# Adding labels and title
plt.xlabel("Room Type")
plt.ylabel("Number of Listings")
plt.title("Distribution of Room Types in London Listings")
plt.xticks(rotation=45)
plt.tight_layout()
# Show the plot
plt.show()
plt.figure(figsize=(8, 6))
plt.figure(figsize=(8, 5))
plt.show()
room_types = df["room_type"].value_counts()
room_types = df["room_type"].value_counts()
# bar chart
plt.figure(figsize=(8, 5))
room_types.plot(kind="bar", color="salmon", edgecolor="slategrey")
# Adding labels and title
plt.xlabel("Room Type")
plt.ylabel("Number of Listings")
plt.title("Distribution of Room Types in London Listings")
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
room_types
plt.show()
room_types = df["room_type"].value_counts()
# The next lines come from Geeks for Geeks
# Function to add value labels on top of bars
def add_labels(x, y):
for i in range(len(x)):
plt.text(i, y[i], y[i])  # Placing text slightly above the bar
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
plt.bar(x,y)
add_labels(x,y)
# Adding title and labels
plt.title("Airbnb Types in London")
plt.xlabel("Room Types")
plt.ylabel("Count")
# Display the chart
plt.show()
plt.ylabel("Count")
room_types = df["room_type"].value_counts()
# The next lines come from Geeks for Geeks
# Function to add value labels on top of bars
def add_labels(x, y):
for i in range(len(x)):
plt.text(i, y[i], y[i], ha='center',
bbox=dict(facecolor='red', alpha=0.8)))  # Placing text slightly above the bar
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
plt.bar(x,y)
add_labels(x,y)
# Adding title and labels
plt.title("Airbnb Types in London")
plt.xlabel("Room Types")
plt.ylabel("Count")
# Display the chart
plt.show()
plt.xlabel("Room Types")
room_types = df["room_type"].value_counts()
# The next lines come from Geeks for Geeks
# Function to add value labels on top of bars
def add_labels(x, y):
for i in range(len(x)):
plt.text(i, y[i], y[i], ha='center',
bbox=dict(facecolor='red', alpha=0.8))
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
plt.bar(x,y)
add_labels(x,y)
# Adding title and labels
plt.title("Airbnb Types in London")
plt.xlabel("Room Types")
plt.ylabel("Count")
# Display the chart
plt.show()
room_types = df["room_type"].value_counts()
# The next lines come from Geeks for Geeks
# Function to add value labels on top of bars
def add_labels(x, y):
for i in range(len(x)):
plt.text(i, y[i], y[i], ha='center',
bbox=dict(facecolor='red', alpha=0.8))
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
plt.figure(figsize=(10, 5))
plt.bar(x,y)
add_labels(x,y)
# Adding title and labels
plt.title("Airbnb Types in London")
plt.xlabel("Room Types")
plt.ylabel("Count")
# Display the chart
plt.show()
room_types = df["room_type"].value_counts()
# The next lines come from Geeks for Geeks
# Function to add value labels on top of bars
def add_labels(x, y):
for i in range(len(x)):
plt.text(i, y[i], y[i], ha='center',
bbox=dict(facecolor='#ABD7EB', alpha=0.8))
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
plt.figure(figsize=(10, 5))
plt.bar(x,y)
add_labels(x,y)
# Adding title and labels
plt.title("Airbnb Types in London")
plt.xlabel("Room Types")
plt.ylabel("Count")
# Display the chart
plt.show()
room_types = df["room_type"].value_counts()
# The next lines come from Geeks for Geeks
# Function to add value labels on top of bars
def add_labels(x, y):
for i in range(len(x)):
plt.text(i, y[i], y[i], ha='center',
bbox=dict(facecolor='#ABD7EB', alpha=0.8))
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
plt.figure(figsize=(10, 5))
plt.bar(x,y, color = "salmon")
add_labels(x,y)
# Adding title and labels
plt.title("Airbnb Types in London")
plt.xlabel("Room Types")
plt.ylabel("Count")
# Display the chart
plt.show()
# show plot
# Data
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
# Creating explode data
explode = (0.1,0.1,0.1,0.1)
# Creating color parameters
colors = ("salmon", "#ABD7EB", "#EOB0ff",
"#3EB489")
# Wedge properties
wp = {'linewidth': 1, 'edgecolor': "black"}
# Creating autocpt arguments
def func(pct, allvalues):
absolute = int(pct / 100.*np.sum(allvalues))
return "{:.1f}%\n({:d} g)".format(pct, absolute)
# Creating plot
fig, ax = plt.subplots(figsize=(10, 7))
wedges, texts, autotexts = ax.pie(y,
autopct=lambda pct: func(pct, y),
explode=explode,
labels=x,
shadow=True,
colors=colors,
startangle=90,
wedgeprops=wp,
textprops=dict(color="black"))
# Adding legend
ax.legend(wedges, x,
title="Percent of Airbnb Room Types in London",
loc="center left",
bbox_to_anchor=(1, 0, 0.5, 1))
plt.setp(autotexts, size=8, weight="bold")
ax.set_title("Customizing pie chart")
# show plot
plt.show()
plt.show()
# Data
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
# Creating explode data
explode = (0.1,0.1,0.1,0.1)
# Creating color parameters
colors = ("salmon", "#ABD7EB", "#EOB0ff",
"#3EB489")
# Wedge properties
wp = {'linewidth': 1, 'edgecolor': "black"}
# Creating autocpt arguments
def func(pct, allvalues):
absolute = int(pct / 100.*np.sum(allvalues))
return "{:.1f}%\n({:d} g)".format(pct, absolute)
# Creating plot
fig, ax = plt.subplots(figsize=(10, 7))
wedges, texts, autotexts = ax.pie(y,
autopct=lambda pct: func(pct, y),
explode=explode,
labels=x,
shadow=True,
colors=colors,
startangle=90,
wedgeprops=wp,
textprops=dict(color="black"))
# Adding legend
ax.legend(wedges, x,
title="",
loc="center left",
bbox_to_anchor=(1, 0, 0.5, 1))
plt.setp(autotexts, size=8, weight="bold")
ax.set_title("Percent of Airbnb Room Types in London")
# show plot
plt.show()
plt.show()
# Pie chart with percent labels
x = ["Entire home/apt", "Private room", "Shared room", "Hotel room"]
y = [57168, 28367, 180, 101]
exp = [0.2, 0.1, 0, 0]
plt.pie(y, labels = x, explode = exp, autopct = '%2.1f%%')
plt.show()
# Pie chart with percent labels
x = ["Entire home/apt", "Shared room", "Private room", "Hotel room"]
y = [57168, 180, 28367, 101]
exp = [0.2, 0.1, 0, 0]
plt.pie(y, labels = x, explode = exp, autopct = '%2.1f%%')
plt.show()
# Pie chart with percent labels
x = ["Entire home/apt", "Shared room", "Private room", "Hotel room"]
y = [57168, 180, 28367, 101]
exp = [0.2, 0, 0.1, 0]
plt.pie(y, labels = x, explode = exp, autopct = '%2.1f%%')
plt.show()
# Pie chart with percent labels
x = ["Entire home/apt", "Shared room", "Private room", "Hotel room"]
y = [57168, 180, 28367, 101]
plt.pie(y, labels = x, autopct = '%2.1f%%')
plt.show()
# Pie chart with percent labels
x1 = ["Entire home/apt", "Shared room", "Private room", "Hotel room"]
y1 = [57168, 180, 28367, 101]
plt.pie(y1, labels = x1, autopct = '%2.1f%%')
plt.show()
room_counts = df["room_type"].value_counts()
# Plot
plt.figure(figsize=(6, 6))
plt.pie(room_counts, labels=room_counts.index, autopct="%1.1f%%", startangle=90, colors=["#ABD7EB", "#F4A261", "#E76F51", "#2A9D8F"])
plt.title("Proportion of Room Types in London Listings")
plt.axis("equal")  # Ensures pie is a circle
plt.show()
}
}
"count": [57168, 180, 28367, 101]}
"count": [57168, 180, 28367, 101]}
}
pie_data = pd.DataFrame(room_counts1)
}
"count": [57168, 180, 28367, 101]}
}
room_counts = df["room_type"].value_counts()
# Plot
plt.figure(figsize=(6, 6))
plt.pie(room_counts, labels=room_counts.index, autopct="%1.1f%%", startangle=90, colors=["#ABD7EB", "#F4A261", "#E76F51", "#2A9D8F"])
plt.title("Proportion of Room Types in London Listings")
plt.axis("equal")  # Ensures pie is a circle
plt.show()
library(reticulate)
py_install(pandas)
library(reticulate)
py_install('pandas')
reticulate::repl_python()
library(reticulate)
py_install('pandas')
py_install('matplotlib')
#library(reticulate)
#py_install('pandas')
#py_install('matplotlib')
reticulate::repl_python()
